<?php
   session_start();
?>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,regular,500,700&display=swap&subset=cyrillic-ext" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <title>TEST 1</title>
</head>
<body>
<div class="container">
    <div class="DZ_3">
        <form id="test__form" method="post">
            <h3>TEST 1</h3>
            <p>1. Выберите Синий цвет.</p>
            <input type="radio" name="rQuest1" value="1">
            <label for="rQuest1" style="color: #3c72c2">Красный</label>
            <input type="radio" name="rQuest1" value="2">
            <label for="rQuest1" style="color: #c022b3">Синий</label>
            <input type="radio" name="rQuest1" value="3">
            <label for="rQuest1" style="color: #4c9e2b">Розовый</label>
            <input type="radio" name="rQuest1" value="4">
            <label for="rQuest1" style="color: #c29c3c">Зеленый</label>
            <p>2. Выберите Красный цвет цвет.</p>
            <input type="radio" name="rQuest2" value="1">
            <label for="rQuest2" style="color: #c28c3c">Зеленый</label>
            <input type="radio" name="rQuest2" value="2">
            <label for="rQuest2" style="color: #4c9e2b">Красный</label>
            <input type="radio" name="rQuest2" value="3">
            <label for="rQuest2" style="color: #c21414">Синий</label>
            <input type="radio" name="rQuest2" value="4">
            <label for="rQuest2" style="color: #3c72c2">Розовый</label>
            <p>3. Выберите Зеленый свет цвет цвет.</p>
            <input type="radio" name="rQuest3" value="1">
            <label for="rQuest3" style="color: #3c72c2">Розовый</label>
            <input type="radio" name="rQuest3" value="2">
            <label for="rQuest3" style="color: #c21414">Зеленый</label>
            <input type="radio" name="rQuest3" value="3">
            <label for="rQuest3" style="color: #c28c3c">Красный</label>
            <input type="radio" name="rQuest3" value="4">
            <label for="rQuest3" style="color: #4c9e2b">Желтый</label>
            <p>4. Выберите Розовый цвет цвет.</p>
            <input type="radio" name="rQuest4" value="1">
            <label for="rQuest4" style="color: #4c9e2b">Синий</label>
            <input type="radio" name="rQuest4" value="2">
            <label for="rQuest4" style="color: #3c72c2">Розовый</label>
            <input type="radio" name="rQuest4" value="3">
            <label for="rQuest4" style="color: #c2933c">Зеленый</label>
            <input type="radio" name="rQuest4" value="4">
            <label for="rQuest4" style="color: #c022b3">Красный</label>
            <p>5. Выберите Оранжевый цвет.</p>
            <input type="radio" name="rQuest5" value="1">
            <label for="rQuest5" style="color: #d7d310">Красный</label>
            <input type="radio" name="rQuest5" value="2">
            <label for="rQuest5" style="color: #da5319">Розовый</label>
            <input type="radio" name="rQuest5" value="3">
            <label for="rQuest5" style="color: #c022b3">Оранжевый</label>
            <input type="radio" name="rQuest5" value="4">
            <label for="rQuest5" style="color: #3c72c2">Зеленый</label>
            <p>6. Выберите Фиолетовый цвет.</p>
            <input type="radio" name="rQuest6" value="1">
            <label for="rQuest6" style="color: #671de8">Оранжевый</label>
            <input type="radio" name="rQuest6" value="2">
            <label for="rQuest6" style="color: #e51d3b">Зеленый</label>
            <input type="radio" name="rQuest6" value="3">
            <label for="rQuest6" style="color: #3c72c2">Красный</label>
            <input type="radio" name="rQuest6" value="4">
            <label for="rQuest6" style="color: #4c9e2b">Синий</label>
            <p>7. Выберите Красный цвет.</p>
            <input type="radio" name="rQuest7" value="1">
            <label for="rQuest7" style="color: #da5319">Фиолетовый</label>
            <input type="radio" name="rQuest7" value="2">
            <label for="rQuest7" style="color: #671de8">Красный</label>
            <input type="radio" name="rQuest7" value="3">
            <label for="rQuest7" style="color: #c21414">Синий</label>
            <input type="radio" name="rQuest7" value="4">
            <label for="rQuest7" style="color: #4c9e2b">Оранжевый</label>
            <p>8. Выберите Желтый цвет.</p>
            <input type="radio" name="rQuest8" value="1">
            <label for="rQuest8" style="color: #4c9e2b">Синий</label>
            <input type="radio" name="rQuest8" value="2">
            <label for="rQuest8" style="color: #c022b3">Зеленый</label>
            <input type="radio" name="rQuest8" value="3">
            <label for="rQuest8" style="color: #d7d310">Фиолетовый</label>
            <input type="radio" name="rQuest8" value="4">
            <label for="rQuest8" style="color: #3c72c2">Красный</label>
            <p>9. Выберите Синий цвет.</p>
            <input type="radio" name="rQuest9" value="1">
            <label for="rQuest9" style="color: #3c72c2">Красный</label>
            <input type="radio" name="rQuest9" value="2">
            <label for="rQuest9" style="color: #671de8">Зеленый</label>
            <input type="radio" name="rQuest9" value="3">
            <label for="rQuest9" style="color: #e51d3b">Синий</label>
            <input type="radio" name="rQuest9" value="4">
            <label for="rQuest9" style="color: #4c9e2b">Желтый</label>
            <p>10. Выберите Оранжевый цвет.</p>
            <input type="radio" name="rQuest10" value="1">
            <label for="rQuest10" style="color: #c022b3">Синий</label>
            <input type="radio" name="rQuest10" value="2">
            <label for="rQuest10" style="color: #da5319">Розовый</label>
            <input type="radio" name="rQuest10" value="3">
            <label for="rQuest10" style="color: #4c9e2b">Красный</label>
            <input type="radio" name="rQuest10" value="4">
            <label for="rQuest10" style="color: #3c72c2">Оранжевый</label>
            <br>
            <br>
           <button class="btn btn-1__blink-left" type="submit" name="sNext" value="Next!">Дальше ></button>
           <br>
            <?php

               $correctAnswers = [0, 1, 3, 4, 4, 2, 1, 3, 3, 1, 2];
               $answersScore = 0;

               function GetAnswersScore($answersArr, $totalScore): int
               {
                  for ($i = 1; $i <= 11; $i += 1){
                     if(isset($_POST["rQuest{$i}"])){
                        if($_POST["rQuest{$i}"] == $answersArr[$i]){
                           $totalScore += 1;
                        }
                        else{
                           $totalScore +=0;
                        }
                     }
                 }
                 return $totalScore;
               }

               function RadioChecker($radioGroup): bool
               {
                  if(isset($_POST["{$radioGroup}"])){
                     return true;
                  }
                  else{
                     return false;
                  }
               }

               if(isset($_POST['sNext'])){
                  for ($i = 1; $i <= 10; $i += 1){
                     if(!RadioChecker("rQuest{$i}")){
                        echo '<div class="warning__text">Not all radio buttons are selected</div>';
                        break;
                     }
                     else{
                        $_SESSION['testResult1'] = GetAnswersScore($correctAnswers, $answersScore);
                        echo "<script> location.href='page2.php'; </script>";
                        exit;
                     }
                  }
               }
            ?>
    </div>
</body></html>
